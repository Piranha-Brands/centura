{% comment %} Hide add to cart for all customers {% endcomment %}
<style>
  .product-form__buttons{
    display: none;
  }
</style>

{% comment %} Get product collection handle in variable {% endcomment %}
{% assign handle = collection.handle %}
{% comment %} Metafields value loop because values are more than one, also to check if any value match then it will show add to cart button {% endcomment %}
{% for collections in customer.metafields.pb_backend.collections.value %}
{% if collections == handle %}
  <style>
  .product-form__buttons{
    display: block;
  }
</style>
{% endif %}
{% endfor %}